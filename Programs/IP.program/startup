os.loadAPI("loader")
SpeedOS = loader.OS()
SpeedOS.LoadAPI("SpeedAPI/windows")
SpeedOS.LoadAPI("SpeedAPI/SpeedText")

SpeedOS.ToolBarColour = colours.lightGrey
SpeedOS.ToolBarTextColour = colours.white

windows.clearScreen(colors.gray)
term.setTextColor(colors.white)

local ip_request = http.get("https://api.ipify.org/?format=raw")

if not ip_request then
  windows.clearScreen(colors.white)
  windows.error("Can't connect to IP server!")
  SpeedOS.Close()
end

SpeedText.cPrint("Your IP is "..ip_request.readAll())

while true do
  event, key = os.pullEvent()
  if event == "key" or event == "mouse_click" or event == "mouse_drag" then
    SpeedOS.Close()
  end
end
