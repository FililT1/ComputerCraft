-----------------------------------------------------------------------------------------------------------------------------------
-- Меняем цвет верхнего тулбара

if SpeedOS then
	SpeedOS.ToolBarColour = colours.lightGrey
	SpeedOS.ToolBarTextColour = colours.white
end

-----------------------------------------------------------------------------------------------------------------------------------
-- Подгружаем АПИ

SpeedOS.LoadAPI("SpeedAPI/windows")
SpeedOS.LoadAPI("SpeedAPI/SpeedText")

-----------------------------------------------------------------------------------------------------------------------------------
-- Изменяем цвета интерфейса программы

windows.clearScreen(colors.gray)
term.setTextColor(colors.white)

-----------------------------------------------------------------------------------------------------------------------------------
-- Отправка запроса по Интернету для определния IP-адреса отправителя

local response = http.get("https://api.ipify.org/?format=raw")

if not response then
	windows.clearScreen(colors.white)
	windows.error("Can't reach IP server!")
	SpeedOS.Close()
end

-----------------------------------------------------------------------------------------------------------------------------------
-- Печатаем определенный IP-адрес

SpeedText.cPrint("Your IP is "..response.readAll())

-----------------------------------------------------------------------------------------------------------------------------------

SpeedText.waitForEvent({"mouse_click", "mouse_drag", "mouse_scroll", "key"})
SpeedOS.Close()

-----------------------------------------------------------------------------------------------------------------------------------
